name: Tech Solutions Bot ğŸ› ï¸

on:
  schedule:
    - cron: '30 */8 * * *'  # ÙŠØ¹Ù…Ù„ ÙƒÙ„ 8 Ø³Ø§Ø¹Ø§Øª
  workflow_dispatch:      # Ø²Ø± Ù„Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙŠØ¯ÙˆÙŠ

permissions:
  contents: write

jobs:
  run-tech-bot:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: pip install -r requirements.txt

      - name: Run Tech Solutions Script
        env:
          # ğŸ‘‡ğŸ‘‡ Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø°ÙŠ ÙƒØ§Ù† Ù†Ø§Ù‚ØµØ§Ù‹ ÙˆÙŠØ³Ø¨Ø¨ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ğŸ‘‡ğŸ‘‡
          BLOG_URL: ${{ secrets.BLOG_URL }}
          
          # Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ø³Ø±Ø§Ø±
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
          CLIENT_ID: ${{ secrets.CLIENT_ID }}
          CLIENT_SECRET: ${{ secrets.CLIENT_SECRET }}
          REFRESH_TOKEN: ${{ secrets.REFRESH_TOKEN }}
        run: python tech_solutions_bot.py

      - name: Commit and Push History
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git add history_tech_solutions.json
          git commit -m "ğŸ§  Tech Bot updated memory [skip ci]" || echo "No changes to commit"
          git push
